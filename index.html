<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<meta name="theme-color" content="#ffffff"/>
<title>Milir | Tonsure & Ear Piercing</title>
<meta name="description" content="Invite for Milir's tonsure and ear piercing at JC Residency, Madurai on 5 Oct 2025, 10:00 am."/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Playfair+Display:wght@600;800&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#222; --muted:#6b6b6b; --bg:#faf7f2; --card:#fff;
  --marigold:#f2a900; --leaf:#2f9e44; --pink:#ff7eb9; --gold:#f4c542;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--ink);font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
.wrap{min-height:100svh;display:grid;place-items:center;padding:16px}
.card{position:relative;background:var(--card);border:1px solid #00000010;border-radius:22px;max-width:560px;width:100%;padding:18px 18px 24px;box-shadow:0 18px 60px rgba(0,0,0,.08);overflow:hidden}

/* Toran garland */
.toran{position:absolute;left:-6%;right:-6%;top:-2px;height:120px;pointer-events:none}
.string{position:absolute;left:0;right:0;top:22px;height:2px;background:#00000018;border-radius:2px}
.flowers{position:absolute;left:0;right:0;top:0;display:flex;justify-content:space-between;padding:0 22px}
.flower{width:56px;height:80px;display:grid;place-items:flex-start;transform-origin:top center;animation:sway 3.8s ease-in-out infinite}
.bloom{width:44px;height:44px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#ffd76a,var(--marigold))}
.leaf{width:10px;height:18px;background:var(--leaf);border-radius:10px;margin:2px 0 0 18px;transform:rotate(-14deg)}
.leaf.r{margin-left:0;margin-right:18px;transform:rotate(14deg);justify-self:end}
@keyframes sway{0%,100%{transform:rotate(-4deg)}50%{transform:rotate(4deg)}}

/* Headings */
.kicker{margin-top:78px;text-align:center;letter-spacing:.14em;text-transform:uppercase;font-size:12px;color:var(--muted)}
.title{font-family:"Playfair Display",serif;font-weight:800;font-size:clamp(36px,7vw,60px);line-height:1.04;text-align:center;margin:6px 0}
.sub{font-size:15px;text-align:center;color:#333}

/* Countdown */
.countdown{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin:12px 0 4px}
.tile{min-width:68px;background:#fff;border:1px solid #00000012;border-radius:14px;padding:10px 10px;text-align:center;box-shadow:0 6px 16px rgba(0,0,0,.05)}
.num{font-size:26px;font-weight:800;font-family:"Playfair Display",serif}
.lbl{font-size:11px;color:var(--muted)}

/* Details */
.details{margin:14px auto 10px;display:grid;gap:6px;justify-items:center}
.badge{background:#f6f3ed;border:1px solid #00000010;border-radius:999px;padding:8px 14px;font-size:14px}
.small{font-size:13px;color:var(--muted);text-align:center}
.actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px}
.btn{appearance:none;border:0;background:#111;color:#fff;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer;text-decoration:none}
.btn.ghost{background:#fff;color:#111;border:1px solid #00000020}

/* Scroll-interactive ear piercing */
.scroll-scene{margin:16px 0 8px}
.scene-wrap{position:relative;height:60vh;min-height:420px;border:1px dashed #00000014;border-radius:16px;background:#fffafc;display:grid;place-items:center;overflow:hidden}
.ear-zoom{width:min(68vw,320px);transition:transform .1s linear;filter:drop-shadow(0 6px 14px rgba(0,0,0,.08))}
.earring-fly{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}
.earring-svg{width:54px;height:54px;filter:drop-shadow(0 6px 12px rgba(0,0,0,.12))}
.mini-garland{position:absolute;bottom:8px;left:0;right:0;display:flex;gap:6px;justify-content:center;opacity:.9}
.attached .earring-svg{animation:pop .6s ease-out}
@keyframes pop{0%{transform:scale(.6)}60%{transform:scale(1.2)}100%{transform:scale(1)}}
</style>
</head>
<body>
<div class="wrap">
<main class="card">

<!-- Toran -->
<div class="toran" aria-hidden="true">
  <div class="string"></div>
  <div class="flowers">
    <div class="flower"><div class="bloom"></div><div class="leaf"></div></div>
    <div class="flower"><div class="bloom"></div><div class="leaf r"></div></div>
    <div class="flower"><div class="bloom"></div><div class="leaf"></div></div>
    <div class="flower"><div class="bloom"></div><div class="leaf r"></div></div>
    <div class="flower"><div class="bloom"></div><div class="leaf"></div></div>
    <div class="flower"><div class="bloom"></div><div class="leaf r"></div></div>
  </div>
</div>

<p class="kicker">You are invited</p>
<h1 class="title">Milir</h1>
<p class="sub">Tonsure & Ear Piercing ¬∑ JC Residency, Madurai</p>

<div class="countdown" id="countdown" aria-live="polite"></div>
<p class="small">Sun, 5 Oct 2025 ¬∑ 10:00 am IST</p>

<section class="details">
  <span class="badge">üìç JC Residency, Madurai</span>
  <span class="badge">üïô 10:00 am</span>
</section>

<!-- Scroll-interactive Ear Piercing (Tamil vibe) -->
<section class="scroll-scene" aria-label="Interactive ear piercing">
  <p class="small" style="font-weight:600;margin-bottom:6px">‡Æï‡Ææ‡Æ§‡Æ£‡Æø ‡Æ™‡Øã‡Æü‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æø‡Æ¥‡Ææ</p>
  <div class="scene-wrap" id="earScene">
    <!-- ear -->
    <svg class="ear-zoom" id="earSvg" viewBox="0 0 220 200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Baby ear">
      <defs>
        <radialGradient id="blush" cx="60%" cy="70%" r="40%">
          <stop offset="0%" stop-color="#ffd2d9"/><stop offset="100%" stop-color="transparent"/>
        </radialGradient>
      </defs>
      <circle cx="150" cy="150" r="60" fill="url(#blush)" opacity=".5"/>
      <path d="M110 22c-40 0-70 22-70 64 0 24 12 42 30 54 9 6 14 15 14 26 0 12 9 22 21 22h18c12 0 21-10 21-22 0-19 6-33 19-46 12-12 19-28 19-46 0-36-32-52-72-52z" fill="#ffd8c8" stroke="#e7a892" stroke-width="3"/>
      <path d="M128 78c-16-8-34 2-38 18-4 16 5 28 20 30" fill="none" stroke="#e6ad9b" stroke-width="4" stroke-linecap="round"/>
      <path d="M132 130c6 10-2 22-12 22" fill="none" stroke="#e6ad9b" stroke-width="4" stroke-linecap="round"/>
      <circle id="studSpot" cx="140" cy="120" r="3" fill="#d5a824"/>
    </svg>
    <!-- earring flies in -->
    <div class="earring-fly" id="earFly" aria-hidden="true">
      <svg viewBox="0 0 64 64" class="earring-svg">
        <circle cx="32" cy="18" r="10" fill="var(--gold)" stroke="#d5a824" stroke-width="3"/>
        <line x1="32" y1="28" x2="32" y2="40" stroke="#d5a824" stroke-width="3"/>
        <g transform="translate(32,48)">
          <circle r="8" fill="#ffe7f1" stroke="#ffbdd7" stroke-width="3"/>
          <circle r="2" fill="#ff7eb9"/>
        </g>
      </svg>
    </div>
    <!-- mini marigold line -->
    <div class="mini-garland" aria-hidden="true"><span>üåº</span><span>üåº</span><span>üåº</span><span>üåº</span><span>üåº</span></div>
  </div>
  <p class="small" id="earHint">Scroll to watch the earring come closer</p>
</section>

<div class="actions">
  <a class="btn" href="https://www.google.com/maps/search/?api=1&query=JC+Residency+Madurai" target="_blank" rel="noopener">Open map</a>
  <button class="btn ghost" id="addCal">Add to calendar</button>
  <button class="btn" id="shareBtn">Share</button>
</div>

<div class="qr">
  <img alt="QR for location" src="https://api.qrserver.com/v1/create-qr-code/?size=240x240&data=https%3A%2F%2Fwww.google.com%2Fmaps%2Fsearch%2F%3Fapi%3D1%26query%3DJC%2BResidency%2BMadurai"/>
  <p class="small">Scan for directions</p>
</div>

<p class="footer">With love ‚Äî family and friends</p>
</main>
</div>

<script>
const EVENT_ISO = "2025-10-05T10:00:00+05:30";

// countdown
(function(){
  const el=document.getElementById('countdown');
  const parts=['Days','Hours','Mins','Secs'];
  const tiles=parts.map(l=>{
    const t=document.createElement('div');
    t.className='tile';
    t.innerHTML=`<div class="num">0</div><div class="lbl">${l}</div>`;
    el.appendChild(t);return t
  });
  function tick(){
    const now=new Date(), target=new Date(EVENT_ISO);
    const s=Math.max(0, Math.floor((target-now)/1000));
    const d=Math.floor(s/86400);
    const h=Math.floor((s%86400)/3600);
    const m=Math.floor((s%3600)/60);
    const sec=s%60;
    [d,h,m,sec].forEach((v,i)=>tiles[i].querySelector('.num').textContent=v);
  }
  setInterval(tick,1000); tick();
})();

// add to calendar
(function(){
  const btn=document.getElementById('addCal');
  if(!btn) return;
  btn.addEventListener('click',()=>{
    const title='Milir | Tonsure & Ear Piercing';
    const dtStart=new Date(EVENT_ISO);
    const dtEnd=new Date(dtStart.getTime()+2*60*60*1000);
    const fmt=d=>d.toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';
    const ics=`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
DTSTART:${fmt(dtStart)}
DTEND:${fmt(dtEnd)}
SUMMARY:${title}
LOCATION:JC Residency, Madurai
DESCRIPTION:Join us to bless Milir.
END:VEVENT
END:VCALENDAR`;
    const blob=new Blob([ics],{type:'text/calendar'});
    const url=URL.createObjectURL(blob);
    const a=document.createElement('a'); a.href=url; a.download='milir-ceremony.ics'; a.click();
    URL.revokeObjectURL(url);
  });
})();

// share
(function(){
  const btn=document.getElementById('shareBtn');
  if(!btn) return;
  btn.addEventListener('click',async()=>{
    try{
      if(navigator.share){
        await navigator.share({title:document.title,text:'Join us on 5 Oct 2025 at JC Residency, Madurai',url:location.href});
      }else{
        alert('Copy the link: '+location.href);
      }
    }catch{}
  });
})();

// scroll-driven ear zoom + earring attach
(function(){
  const scene=document.getElementById('earScene');
  const ear=document.getElementById('earSvg');
  const fly=document.getElementById('earFly');
  const hint=document.getElementById('earHint');
  if(!scene||!ear||!fly) return;
  const clamp=(v,min,max)=>Math.max(min,Math.min(max,v));

  function onscroll(){
    const r=scene.getBoundingClientRect();
    const vh=window.innerHeight||document.documentElement.clientHeight;
    // progress: 0 at enter, 1 near center
    let p=(vh*0.8 - r.top)/(r.height+vh*0.4); p=clamp(p,0,1);

    // ear zoom
    const scale=0.7 + 0.6*p;
    ear.style.transform=`scale(${scale}) translateY(${(1-p)*20}px)`;

    // earring flight to stud spot
    const spot=ear.querySelector('#studSpot');
    const bb=spot.getBoundingClientRect();
    const sc=scene.getBoundingClientRect();
    const cx=bb.left + bb.width/2 - sc.left;
    const cy=bb.top + bb.height/2 - sc.top;

    const startX=sc.width*0.75, startY=-sc.height*0.2; // from top-right
    const x=startX + (cx - startX)*p;
    const y=startY + (cy - startY)*p;
    const s=0.6 + 0.5*p, rot=45*(1-p);

    fly.style.transform=`translate(${x - sc.width/2}px, ${y - sc.height/2}px) rotate(${rot}deg) scale(${s})`;
    fly.style.opacity=0.2 + 0.8*p;

    if(p>0.98){
      scene.classList.add('attached');
      hint.textContent='‡Æá‡Æ™‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æ§‡ÆØ‡Ææ‡Æ∞‡Øç ‚Ä¢ see you soon';
    }else{
      scene.classList.remove('attached');
      hint.textContent='Scroll to watch the earring come closer';
    }
  }
  onscroll();
  document.addEventListener('scroll',onscroll,{passive:true});
  window.addEventListener('resize',onscroll);
})();
</script>
</body>
</html>
